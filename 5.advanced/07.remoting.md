---
title: Remoting
description: Control distributed dxflow infrastructure from a single CLI using secure authentication and profile-based management
navigation:
    icon: i-hugeicons:remote-control
---

dxflow provides comprehensive remote management capabilities that allow you to control distributed server infrastructure from a single local CLI, enabling centralized operations across multiple environments.

::callout{color="blue"}
**Two-Instance Architecture**: Remoting requires two dxflow instances - one running as a server (with API endpoints) and another as a client (CLI) that connects to control the remote server.
::

## How It Works

### Remote Architecture

dxflow remoting requires two separate dxflow instances communicating over HTTP/HTTPS:

::card-group
  ::card{title="dxflow Client" icon="i-hugeicons:computer-terminal-01"}
  **Local CLI Instance**
  - Sends CLI commands
  - Manages profile configs
  - Handles authentication
  - Converts commands to API calls
  ::

  ::card{title="dxflow Server" icon="i-hugeicons:cloud-server"}
  **Remote Target Instance**
  - Runs REST API server
  - Executes workflow engine
  - Manages resources
  - Processes client requests
  ::
::

::tabs
  ::tab-item{label="Server Setup" icon="i-hugeicons:cloud-server"}

  **Remote dxflow Server**

  The target machine runs dxflow as a service:

  ```bash
  # Start dxflow server on remote machine
  dxflow boot up --daemon --port 8080

  # Server exposes API endpoints
  # http://your-server:8080/api/engine/ping
  # http://your-server:8080/api/workflow/*
  # http://your-server:8080/api/shell/*
  ```

  ::

  ::tab-item{label="Client Setup" icon="i-hugeicons:computer-terminal-01"}

  **Local dxflow Client**

  Your local CLI connects to the remote server:

  ```bash
  # Configure connection to remote server
  dxflow config set connection-address "http://your-server:8080"
  dxflow config set connection-key "/path/to/server-key.pem"

  # All commands now target remote server
  dxflow engine ping
  dxflow workflow list
  ```

  ::

  ::tab-item{label="Communication" icon="i-hugeicons:api"}

  **API Translation**

  CLI commands are automatically converted to HTTP API calls:

  ```bash
  # CLI command
  dxflow workflow list

  # Becomes HTTP request
  GET /api/workflow/list
  Authorization: Bearer <jwt-token>
  ```

  ::
::

The local CLI establishes secure connections to remote servers, handles authentication automatically, and provides transparent access to all remote functionality.

## Getting Started

::steps
  ### Step 1: Configure Server Connection

  Set the target remote server address:

  ```bash
  # HTTPS for production (recommended)
  dxflow config set connection-address "https://your-server.com"

  # HTTP for development/testing
  dxflow config set connection-address "http://192.168.1.100:8080"
  ```

  ### Step 2: Set Up Authentication

  Configure RSA private key for secure authentication:

  ```bash
  # Use server's private key for authentication
  dxflow config set connection-key "/path/to/server-private-key.pem"
  ```

  ### Step 3: Verify Connection

  Test the remote connection:

  ```bash
  # Verify connectivity and authentication
  dxflow engine ping
  ```

  ::callout{color="green"}
  **Success**: Once authenticated, all dxflow commands automatically target the remote server.
  ::
::

## Profile Management

### Multiple Environment Support

dxflow uses configuration profiles to manage multiple remote servers independently:

::card-group
  ::card{title="Environment Isolation" icon="i-hugeicons:folder-01"}
  **Separate Configurations**
  - Each profile maintains its own connection settings
  - Independent authentication credentials per profile
  - No cross-contamination between environments
  ::

  ::card{title="Profile Switching" icon="i-hugeicons:settings-02"}
  **Flexible Operations**
  - Switch between profiles with simple flags
  - Run commands on different environments simultaneously
  - Profile-specific command history and settings
  ::
::

### Setting Up Profiles

::tabs
  ::tab-item{label="Development Profile" icon="i-hugeicons:computer-terminal-01"}

  **Development Environment Setup**

  ```bash
  # Configure development server
  dxflow --config-profile dev config set connection-address "http://dev-server:8080"
  dxflow --config-profile dev config set connection-key "/keys/dev-key.pem"

  # Test development connection
  dxflow -C dev engine ping
  ```

  ::

  ::tab-item{label="Production Profile" icon="i-hugeicons:shield-01"}

  **Production Environment Setup**

  ```bash
  # Configure production server
  dxflow --config-profile prod config set connection-address "https://prod-server.com"
  dxflow --config-profile prod config set connection-key "/keys/prod-key.pem"

  # Test production connection
  dxflow -C prod engine ping
  ```

  ::

  ::tab-item{label="Multi-Cloud Profiles" icon="i-hugeicons:cloud-server"}

  **Multi-Cloud Environment Setup**

  ```bash
  # AWS environment
  dxflow --config-profile aws config set connection-address "https://dxflow.us-west-2.amazonaws.com"
  dxflow --config-profile aws config set connection-key "/keys/aws-key.pem"

  # GCP environment
  dxflow --config-profile gcp config set connection-address "https://dxflow.us-central1.gcp.com"
  dxflow --config-profile gcp config set connection-key "/keys/gcp-key.pem"

  # Azure environment
  dxflow --config-profile azure config set connection-address "https://dxflow.eastus.azure.com"
  dxflow --config-profile azure config set connection-key "/keys/azure-key.pem"
  ```

  ::
::

## Authentication Process

### RSA Challenge-Response Authentication

dxflow uses the same secure authentication system for remote connections as described in the [Authentication documentation](/docs/advanced/auth):

::tabs
  ::tab-item{label="Key-Based Authentication" icon="i-hugeicons:key-01"}

  **Automatic Authentication (Recommended)**

  ```bash
  # Configure private key for automatic authentication
  dxflow config set connection-key "/path/to/server-private-key.pem"
  ```

  **How it works:**
  1. CLI requests authentication challenge from remote server
  2. CLI signs challenge using your private key (RSA-PKCS1v15 + SHA256)
  3. Server verifies signature and issues JWT token
  4. Token stored automatically and refreshed as needed

  ::

  ::tab-item{label="Manual Token Authentication" icon="i-hugeicons:time-management"}

  **Direct Token Configuration**

  ```bash
  # Generate token on remote server
  dxflow engine token  # (run on remote server)

  # Configure token locally
  dxflow config set connection-token "eyJhbGciOiJSUzI1NiJ9..."

  # Test connection
  dxflow engine ping
  ```

  **Use cases:**
  - Quick testing and debugging
  - Temporary access scenarios
  - Environments without private key access

  ::

  ::tab-item{label="Environment Variables" icon="i-hugeicons:settings-02"}

  **Override with Environment Variables**

  ```bash
  # Temporary connection override
  export CONNECTION_ADDRESS="https://temp-server.com"
  export CONNECTION_KEY="/temp/keys/temp-key.pem"

  # Run commands with overridden settings
  dxflow engine ping
  dxflow workflow list
  ```

  **Benefits:**
  - No permanent configuration changes
  - Perfect for automation and CI/CD
  - Quick environment switching

  ::
::

## Common Use Cases

::tabs
  ::tab-item{label="Development Workflow" icon="i-hugeicons:computer-terminal-01"}

  Develop locally while testing on remote infrastructure:

  ```bash
  # Deploy to development environment
  dxflow -C dev workflow compose deploy ./my-workflow.yaml
  dxflow -C dev workflow logs my-workflow --follow

  # Promote through environments
  dxflow -C staging workflow compose deploy ./my-workflow.yaml
  dxflow -C prod workflow compose deploy ./my-workflow.yaml
  ```

  ::

  ::tab-item{label="Multi-Cloud Operations" icon="i-hugeicons:cloud-server"}

  Manage workloads across multiple cloud providers:

  ```bash
  # Monitor all cloud environments
  dxflow -C aws engine stat
  dxflow -C gcp engine stat
  dxflow -C azure engine stat

  # Deploy to multiple clouds
  dxflow -C aws workflow compose deploy ./production-workflow.yaml
  dxflow -C gcp workflow compose deploy ./production-workflow.yaml
  ```

  ::

  ::tab-item{label="Automation" icon="i-hugeicons:settings-02"}

  Integrate into CI/CD pipelines:

  ```bash
  # Environment-based deployment
  export CONNECTION_ADDRESS="https://staging-server.com"
  export CONNECTION_KEY="/ci/keys/staging-key.pem"

  dxflow workflow compose deploy ./build-artifacts/workflow.yaml
  dxflow engine healthcheck || exit 1
  ```

  ::

  ::tab-item{label="Disaster Recovery" icon="i-hugeicons:shield-01"}

  Implement failover strategies:

  ```bash
  # Check primary health and failover
  if ! dxflow -C primary engine ping; then
    dxflow -C backup workflow compose deploy ./critical-services.yaml
  fi
  ```

  ::
::

## Configuration Storage

### Profile Configuration Files

Each profile stores its configuration in a dedicated file:

| Profile | Configuration File |
|---------|-------------------|
| **Default** | `~/.dxflow/default_config.yaml` |
| **Custom** | `~/.dxflow/{profile-name}_config.yaml` |

### Configuration Structure

```yaml
# Example: ~/.dxflow/production_config.yaml
connection-address: "https://prod.company.com"  # Base URL (no /api suffix)
connection-key: "/secure/keys/prod-key.pem"     # RSA private key path
connection-token: "eyJhbGc..."                  # Auto-generated JWT token
```

### Environment Variable Overrides

Override configuration temporarily using environment variables:

| Environment Variable | Configuration Key |
|--------------------|------------------|
| `CONNECTION_ADDRESS` | `connection-address` |
| `CONNECTION_KEY` | `connection-key` |
| `CONNECTION_TOKEN` | `connection-token` |

## Troubleshooting

::tabs
  ::tab-item{label="Connection Issues"}

  **Cannot connect to remote server**

  ```bash
  # 1. Verify server address configuration
  dxflow config get connection-address

  # 2. Test basic HTTP connectivity
  curl -k "$(dxflow config get connection-address)/api/engine/healthcheck/"

  # 3. Check DNS resolution and firewall rules
  ping your-server.com
  telnet your-server.com 443
  ```

  **Connection timeouts or network errors**

  - Verify server is running and accessible
  - Check corporate firewall and proxy settings
  - Ensure proper HTTPS certificates are configured
  - Try HTTP instead of HTTPS for testing

  ::

  ::tab-item{label="Authentication Issues"}

  **Authentication failures or invalid tokens**

  ```bash
  # 1. Verify private key file permissions
  chmod 600 /path/to/your-key.pem
  ls -la /path/to/your-key.pem

  # 2. Force token refresh
  dxflow config unset connection-token
  dxflow engine ping

  # 3. Test with manual token (temporary)
  dxflow config set connection-token "new-token-from-server"
  ```

  **Key-related problems**

  - Ensure private key corresponds to public key on server
  - Verify key file is not corrupted or modified
  - Check system clock synchronization (affects token timing)

  ::

  ::tab-item{label="Profile Issues"}

  **Commands targeting wrong environment**

  ```bash
  # Always verify active configuration
  dxflow config get connection-address

  # Use explicit profile specification
  dxflow --config-profile correct-env engine ping

  # List all available profiles
  ls ~/.dxflow/*_config.yaml
  ```

  **Profile configuration conflicts**

  - Ensure each profile has unique configuration
  - Check for typos in profile names
  - Verify profile-specific credentials are correct

  ::
::

## Security Best Practices

- **Key Protection**: Store private keys with `chmod 600` permissions and separate keys per environment
- **HTTPS Only**: Always use HTTPS for production environments
- **Profile Isolation**: Create separate profiles for each team member and environment
- **Regular Audits**: Monitor authentication logs and rotate keys periodically

## Common Commands

### Connection Management

```bash
# View current configuration
dxflow config
dxflow config get connection-address

# Update connection settings
dxflow config set connection-address "https://new-server.com"
dxflow config set connection-key "/path/to/new-key.pem"

# Test connection
dxflow engine ping
dxflow engine healthcheck
```

### Profile Operations

```bash
# Use specific profile
dxflow --config-profile aws engine stat
dxflow -C gcp workflow list

# Profile-specific configuration
dxflow -C dev config set connection-address "https://dev-server.com"

# Force token refresh for profile
dxflow -C prod config unset connection-token
dxflow -C prod engine ping
```

::callout{color="green"}
**Remote Management Ready**: With proper configuration, all dxflow commands work seamlessly with remote servers, providing the same functionality as local installations while maintaining security and performance.
::
