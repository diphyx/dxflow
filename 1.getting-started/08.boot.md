---
title: Boot
description: Learn how to boot and configure the dxflow engine with various deployment modes and network options
navigation:
    icon: i-hugeicons:energy-rectangle
---

The dxflow engine provides flexible boot modes and configuration options for different deployment scenarios, from development to production environments.

::callout{color="green"}
**Quick Start**: Use `dxflow boot up` to start with default settings - HTTP enabled, foreground mode, perfect for development!
::

## Boot Modes

dxflow supports three distinct boot modes:

::card-group
  ::card{title="Foreground Mode" icon="i-hugeicons:computer-terminal-01"}
  **Default mode** - Engine runs in current terminal session
  - Interactive output and logs
  - Easy debugging and monitoring
  - Stops when terminal closes
  ::

  ::card{title="Background Mode" icon="i-hugeicons:server-stack-01"}
  **Daemon service** - Engine runs as system service
  - Persistent across reboots
  - System service integration
  - Use `--daemon` or `-d` flag
  ::

  ::card{title="Instant Mode" icon="i-hugeicons:dashboard-speed-01"}
  **Automatic** - Internal boot for CLI commands
  - System managed (not user controllable)
  - Auto-starts for CLI operations
  - Shuts down after completion
  ::
::

## Global Configuration

These flags must be placed **before** the boot command:

```bash
dxflow [GLOBAL_FLAGS] boot up [BOOT_FLAGS]
```

| Flag | Short | Default | Description |
|------|-------|---------|-------------|
| `--config-profile` | `-C` | `default` | Configuration profile to use |
| `--log-level` | `-L` | `disabled` | Logging verbosity (disabled, debug, info, warn, error) |
| `--no-color` | `-N` | `false` | Disable colored terminal output |

## Boot Command Options

::tabs
  ::tab-item{label="Network Options" icon="i-hugeicons:internet"}

  | Flag | Default | Description |
  |------|---------|-------------|
  | `--http` | `true` | Serve over HTTP |
  | `--https` | `false` | Serve over HTTPS |
  | `--no-http` | `false` | Disable all network protocols |

  ::callout{color="amber"}
  **Important**: `--no-http` overrides all other network flags and enables Unix socket only mode.
  ::

  ::

  ::tab-item{label="Architecture Options" icon="i-hugeicons:hierarchy-square-01"}

  | Flag | Default | Description |
  |------|---------|-------------|
  | `--proxy` | `false` | Enable subdomain allocation service |
  | `--bridge` | `false` | Connect to hub dxflow instance |

  ::callout{color="red"}
  **Mutual Exclusion**: `--proxy` and `--bridge` cannot be used together on the same machine.
  ::

  ::

  ::tab-item{label="Service Options" icon="i-hugeicons:settings-02"}

  | Flag | Short | Default | Description |
  |------|-------|---------|-------------|
  | `--daemon` | `-d` | `false` | Run as background service |

  **Supported Platforms**: Linux (SystemD/OpenRC), macOS (LaunchDaemon)

  ::
::

## Network Architecture

### Proxy Mode (Hub)

Makes your instance a **hub** that provides subdomains to other services:

::card{title="Proxy Mode Features" icon="i-hugeicons:share-08"}
- **Role**: Acts as central hub/server
- **Provides**: Random subdomains to connecting services
- **Requirements**: Public IP address and DNS control
- **Performance**: Direct routing, low latency
- **Scalability**: Handles many direct connections
::

**Subdomain Format**: `ab1234567890.dxflow.io` (2 letters + 10 alphanumeric characters)

**Use Cases**:
- Multi-tenant SaaS platforms
- Development environments
- CI/CD deployments
- Microservice routing

### Bridge Mode (Node)

Connects your instance to a **hub** to obtain a subdomain:

::card{title="Bridge Mode Features" icon="i-hugeicons:link-01"}
- **Role**: Acts as node/client
- **Receives**: Subdomain from hub
- **Requirements**: Only internet access needed
- **Benefits**: Works behind NAT/firewall, hub manages SSL
- **Limitations**: WebSocket tunneling adds latency
::

::callout{color="blue"}
**Perfect For**: Development, testing, and low-traffic scenarios where you need external access without port forwarding.
::

::callout{color="amber"}
**Avoid For**: High-traffic production environments due to tunnel bandwidth limitations.
::

### Bridge Management

When engine is running with `--bridge`, you can manage connections dynamically:

```bash
# Check bridge status and get identity
dxflow bridge list
```

```bash
# Disconnect from hub (stops tunnel, keeps engine running)
dxflow bridge disconnect <identity>
```

```bash
# Reconnect to hub (restores tunnel)
dxflow bridge connect <identity>
```

::callout
**Note**: You need the bridge identity to disconnect/connect. Use `dxflow bridge list` to find the identity first.
::

This allows dynamic bridge management without restarting the entire engine.

## Quick Start Examples

::steps
  ### Development Setup

  Start with debug logging for development:

  ```bash
  dxflow --log-level=debug boot up
  ```

  ### Production Hub

  Deploy as a hub server with HTTPS and daemon mode:

  ```bash
  dxflow --config-profile=production boot up --https --proxy --daemon
  ```

  ### Production Node

  Connect to a hub as an edge instance:

  ```bash
  dxflow --config-profile=edge boot up --bridge --daemon
  ```
::

## Service Management

### Starting & Stopping

```bash
# Start with defaults (foreground mode)
dxflow boot up

# Start as daemon service
dxflow boot up --daemon

# Stop daemon service
dxflow boot down
```

### Health Monitoring

```bash
# Quick availability check
dxflow ping

# Detailed health status
dxflow healthcheck
```

## Daemon Configuration

::tabs
  ::tab-item{label="SystemD"}

  - **Log Files**: `/tmp/dxflow.{out,err}`
  - **Service File**: `/etc/systemd/system/dxflow-engine.service`
  - **PID Management**: Handled by systemd

  ```bash
  # Service management
  systemctl status dxflow-engine
  systemctl start dxflow-engine
  systemctl stop dxflow-engine
  systemctl restart dxflow-engine

  # View logs
  journalctl -u dxflow-engine -f
  ```

  ::

  ::tab-item{label="OpenRC"}

  - **Log Files**: `/var/log/dxflow-engine.{out,err}`
  - **Service File**: `/etc/init.d/dxflow-engine`
  - **PID File**: `/run/dxflow-engine.pid`

  ```bash
  # Service management
  rc-service dxflow-engine status
  rc-service dxflow-engine start
  rc-service dxflow-engine stop
  rc-service dxflow-engine restart
  ```

  ::

  ::tab-item{label="macOS"}

  - **Log Files**: `~/Library/Logs/dxflow-engine.{out,err}`
  - **Service File**: `~/Library/LaunchDaemons/com.diphyx.dxflow-engine.plist`
  - **PID Management**: Handled by launchctl

  ```bash
  # Service management
  launchctl list | grep dxflow
  launchctl load ~/Library/LaunchDaemons/com.diphyx.dxflow-engine.plist
  launchctl unload ~/Library/LaunchDaemons/com.diphyx.dxflow-engine.plist
  ```

  ::
::

## Architecture Patterns

### Hub-Node Setup

**Scenario**: One hub machine manages multiple node machines

```
Internet Users → [Hub: dxflow.io] (--proxy --https --daemon)
                      ├── ab1234567890.dxflow.io → API server (--bridge)
                      ├── cd9876543210.dxflow.io → Dev server (--bridge)
                      ├── ef5a8b2c9d1e.dxflow.io → Local machine (--bridge)
                      └── gh7x4m8n2p5q.dxflow.io → CI/CD (--bridge)
```

::callout{color="blue"}
**Important**: Each machine can only be a hub OR node, never both simultaneously.
::

### Comparison Table

| Aspect | Proxy Mode | Bridge Mode |
|--------|------------|-------------|
| **Role** | Hub/Server | Node/Client |
| **Connection Direction** | Receives connections | Makes connections |
| **Subdomain Management** | Provides to others | Receives from hub |
| **Network Requirements** | Public IP, DNS control | Internet access only |
| **Performance** | Direct routing, low latency | Tunneled, higher latency |
| **Scalability** | High - direct connections | Limited by tunnel bandwidth |
| **Best For** | Production platforms | Development/testing |

## Troubleshooting

::tabs
  ::tab-item{label="Common Issues"}

  **Port already in use**
  - Check processes using configured ports: `netstat -tulpn | grep :PORT`
  - Stop conflicting services or change port configuration

  **Permission denied (daemon)**
  - Daemon installation requires elevated privileges
  - Use `sudo` for daemon operations on Linux

  **Cannot use proxy and bridge together**
  - These modes are mutually exclusive on the same machine
  - Choose one architecture role per instance

  **Network disabled unexpectedly**
  - `--no-http` flag overrides all network settings
  - Remove `--no-http` to enable network protocols

  ::

  ::tab-item{label="Bridge Issues"}

  **Bridge connection fails**
  - Ensure hub instance has `--proxy` enabled
  - Check network connectivity to hub
  - Verify hub is accessible and running

  **Bridge disconnects frequently**
  - Check network stability and firewall settings
  - Review hub server logs for connection issues
  - Consider network timeout configurations

  ::

  ::tab-item{label="Getting Help"}

  For boot-related assistance:
  1. Check engine status: `dxflow ping`
  2. Review detailed health: `dxflow healthcheck`
  3. Check logs in daemon mode (see platform-specific locations above)
  4. Report issues at [GitHub](https://github.com/dxflow/issues)

  ::
::
