---
title: API Reference
description: Complete REST API reference for the dxflow engine with endpoints, authentication, and integration examples
---

dxflow provides a comprehensive REST API with consistent response formats and automatic streaming optimization.

::callout{color="green"}
**Modern REST API**: All endpoints are prefixed with `/api` and follow RESTful design with chunked responses and automatic streaming for performance.
::

## Authentication

dxflow uses a three-tier authentication system based on endpoint security requirements:

::card-group
  ::card{title="Public Access" icon="i-heroicons:globe-alt"}
  **Rate-Limited Only**

  No authentication required, only rate limiting applied:
  - Engine health checks
  - Authentication challenge/verify endpoints
  - Public file proxy access
  ::

  ::card{title="Standard Access" icon="i-heroicons:key"}
  **JWT Token Required**

  Bearer token authentication for most operations:
  - File system operations
  - Workflow management
  - System monitoring
  - Network services
  ::

  ::card{title="Permission-Based Access" icon="i-heroicons:shield-check"}
  **JWT Token + Specific Permissions**

  Operations requiring granular permission control:
  - Administrative functions
  - Resource-specific operations
  - Service management
  - System configuration
  ::
::

### API Permissions

Each JWT token includes specific permissions that control access to different API endpoints:

| Permission | Scope | Description |
|------------|-------|-------------|
| **MASTER** | Administrative | Engine config, key management, restart, file system management |
| **WORKFLOW** | Container Operations | Docker compose, logs, container lifecycle |
| **PLATFORM** | System Information | Hardware stats, OS details, performance metrics |
| **BRIDGE** | Network Connectivity | Tunnel management, port forwarding |
| **PROXY** | HTTP Services | Forward/reverse proxy, load balancing |
| **SHELL** | Terminal Access | Shell session creation and management |
| **OBJECT** | File Operations | File upload, download, directory listing |
| **READ_ONLY** | Limited Access | Read-only operations across all endpoints |

::callout{color="blue"}
**Advanced Authentication**: See [Authentication & Authorization](/docs/advanced/authentication) for detailed permission management, key registration, and security configuration.
::

### Authentication Flow

::tabs
  ::tab-item{label="Get JWT Token"}

  Standard RSA challenge/response authentication:

  ```bash
  # 1. Request authentication challenge
  curl "http://localhost/api/auth/challenge/"

  # 2. Sign challenge with private key and verify
  curl -X POST "http://localhost/api/auth/verify/" \
    -H "Content-Type: application/json" \
    -d '{"identity":"your-key-id", "signature":"signed-challenge", "lifetime":"1h"}'

  # Returns JWT token for subsequent requests
  ```
  ::

  ::tab-item{label="Use Token"}

  Include JWT token in Authorization header:

  ```bash
  # Standard API calls with JWT token
  curl -H "Authorization: Bearer YOUR_JWT_TOKEN" \
    "http://localhost/api/engine/ping/"

  # Verify token is still valid
  curl -H "Authorization: Bearer YOUR_JWT_TOKEN" \
    "http://localhost/api/auth/inspect/"
  ```
  ::
::

## Response Format

All responses use consistent chunked structure:

```json
[
  {"type": "status", "payload": {"code": 200, "message": "OK"}},
  {"type": "total", "payload": 150},
  {"type": "entity", "payload": {"id": "item-1", "name": "example"}}
]
```

::callout{color="blue"}
**Detailed Format**: See [Streaming](/docs/advanced/streaming) for complete response structure, chunk types, and streaming vs buffered behavior.
::

## Quick Examples

```bash
# Health check
curl "http://localhost/api/engine/ping"

# List files
curl -H "Authorization: Bearer $TOKEN" \
  "http://localhost/api/object/fs/?path=/home"

# Stream workflow logs
curl -H "Authorization: Bearer $TOKEN" \
  "http://localhost/api/workflow/logs/my-app?stream=true"
```


## Collections

| Name | Path |
|------|------|
| [**Auth**](/docs/api/auth) | `/api/auth/` |
| [**Engine**](/docs/api/engine) | `/api/engine/` |
| [**Shell**](/docs/api/shell) | `/api/shell/` |
| [**Platform**](/docs/api/platform) | `/api/platform/` |
| [**Workflow**](/docs/api/workflow) | `/api/workflow/` |
| [**Object**](/docs/api/object) | `/api/object/` |
| [**Proxy**](/docs/api/proxy) | `/api/proxy/` |
| [**Bridge**](/docs/api/bridge) | `/api/bridge/` |
